Date: 2011-03-13 18:04:12
Author: evilsocket
Categories: Misc
Tags: wordpress, swg, static, html, github
Title: Time to go static! Pubblicato SWG

Come vi avevo promesso <a href="http://www.evilsocket.net/addio-wordpress-benvenuto-swg.html">ieri</a>, ho pubblicato SWG su <a href='https://github.com/evilsocket/SWG' target='_blank'>github</a>
sperando che possa servire a qualcun'altro oltre che a me :)

Ma vediamo un po una panoramica di cosa è e come funziona SWG.

<break>

SWG, ovvero Static Website Generator (viva la fantasia XD), è un generatore di siti statici di nuova generazione (e fin qui ...), caratterizzato dal template system <a href='http://www.makotemplates.org/'>Mako</a> e 
nato dalla (mia) necessità di avere sia le performance che un sito statico può offrire, sia contenuti e funzionalità in stile "web 2.0".

Dato un insieme di file, uno per ogni pagina/articolo, uno per ogni autore e uno per la gerarchia delle categorie, SWG leggerà il file di configurazione che gli verrà specificato da riga di comando e genererà
un sito web completamente statico partendo da quei contenuti, comprese le indicizzazioni per tag, categoria, autore ecc.

<h2>Un file di configurazione di esempio</h2>

<pre>

<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:100%;height:100%;"><div class="text codecolorer">&nbsp; # Path of the db, templates and so on<br />
&nbsp; datapath &nbsp; = example-site.com<br />
&nbsp; # Path of the db<br />
&nbsp; dbpath &nbsp; &nbsp; = example-site.com/db<br />
&nbsp; # DB files extension<br />
&nbsp; dbitem_ext = txt<br />
&nbsp; # Category hierarchy file<br />
&nbsp; hierarchy &nbsp;= example-site.com/db/categories.txt<br />
&nbsp; # Templates path<br />
&nbsp; tplpath &nbsp; &nbsp;= example-site.com/templates<br />
&nbsp; # Template cache path<br />
&nbsp; tplcache &nbsp; = example-site.com/cache<br />
&nbsp; # URL of the site you are going to generate<br />
&nbsp; siteurl &nbsp; &nbsp;= http://www.example-site.com<br />
&nbsp; # Site name / description<br />
&nbsp; sitename &nbsp; = An example site generated by SWG<br />
&nbsp; # Site charset<br />
&nbsp; charset &nbsp; &nbsp;= utf-8<br />
&nbsp; # Site language<br />
&nbsp; language &nbsp; = it<br />
&nbsp; # Comma separated site keywords<br />
&nbsp; keywords &nbsp; = some, html, keywords, here<br />
&nbsp; # Site destination basepath<br />
&nbsp; basepath &nbsp; = <br />
&nbsp; # Site page files output extension<br />
&nbsp; page_ext &nbsp; = html<br />
&nbsp; # Generated site output path<br />
&nbsp; outputpath = out<br />
&nbsp; # Items (dirs or files) to copy from datapath to outputpath (eg. static files, css, etc)<br />
&nbsp; copypaths &nbsp;= css, images, .htaccess</div></div>

</pre>

Si spiega da solo no? :)

<h2>Un sito/progetto di esempio</h2>

Nel repository troverete la cartella <b>example-site.com</b> la quale contiene un progetto di esempio, con i template, il db e tutto ciò
di cui avete bisogno per iniziare a farvi un idea.

Per iniziare la generazione date il comando:

<pre>

<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:100%;"><div class="text codecolorer">python swg.py example-site.com/example-site.com.cfg</div></div>

</pre>

E vedrete un output del tipo:

<pre>

<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:100%;height:100%;"><div class="text codecolorer">&nbsp; - SWG 1.0.0 by Simone 'evilsocket' Margaritelli &lt;evilsocket@gmail.com&gt; -<br />
<br />
&nbsp; @ Parsing pages ...<br />
&nbsp; @ Sorting pages by date ...<br />
&nbsp; @ Creating 'out' path ...<br />
&nbsp; @ Importing 'example-site.com/images' to 'out/images' ...<br />
&nbsp; @ Importing 'example-site.com/.htaccess' to 'out/.htaccess' ...<br />
&nbsp; @ Importing 'example-site.com/css' to 'out/css' ...<br />
&nbsp; @ Creating index file ...<br />
&nbsp; @ Creating 404 file ...<br />
&nbsp; @ Creating sitemap.xml file ...<br />
&nbsp; @ Creating feed.xml file ...<br />
&nbsp; @ Rendering 5 pages ...<br />
&nbsp; @ DONE</div></div>

</pre>

La cartella <b>out</b> verrà creata e potrete uploadarla sul vostro web server per visualizzare il sito di esempio.<br/>
Se invece volete testare il sito localmente (senza un webserver ad esempio), dovrete cambiare la seguente riga nel file di configurazione:

<pre>

<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:100%;"><div class="text codecolorer">siteurl &nbsp; &nbsp;= http://www.example-site.com</div></div>

</pre>

In qualcosa del tipo:

<pre>

<div class="codecolorer-container text default" style="overflow:auto;white-space:nowrap;width:100%;"><div class="text codecolorer">siteurl &nbsp; &nbsp;= file:///your/project/path/out</div></div>

</pre>

E poi semplicemente aprire il file <b>out/index.html</b> con il vostro browser web.

Come potrete vedere le potenzialità sono infinite, nessun generatore di siti statici attualmente esistente offre le stesse possibilità di SWG,
questo sito stesso, che precedentemente come saprete era basato su Wordpress, è stato completamente convertito senza rinunciare alla minima
funzionalità, persino la ricerca nel sito (con un hack dell'htaccess :D) e il sistema di commenti sono stati convertiti ^^

Enjoy ^^
